name: Push on Main
run-name: ðŸš€ Push on Main

on:
  push:
    branches:
      - main

jobs:
  lib-branch-quality:
    name: ðŸ“‚ Lib Branch Quality Validation
    uses: ./.github/workflows/aux_rust_branch_quality.yml
    with:
      module: lib

  desktop-application-backend-application:
    name: ðŸ“‚ Desktop Application Backend Quality Validation
    needs:
      lib-branch-quality

    uses: ./.github/workflows/aux_rust_branch_quality.yml
    with:
      module: desktop-application/src-tauri

  desktop-application-frontend-application:
    name: ðŸ“‚ Desktop Application Frontend Quality Validation
    needs:
      - lib-branch-quality
      - desktop-application-backend-application

    uses: ./.github/workflows/aux_node_branch_quality.yml
    with:
      module: desktop-application/